title: "GT RACING COCKPIT V8"
theme: default
background: "no-repeat center center / cover url('https://w.wallhaven.cc/full/qd/wallhaven-qd9rm5.png')"

button_card_templates:
  # ==========================================
  # [RACING GEAR SHIFT] - The Room Nav Buttons 
  # ==========================================
  racing_gear_nav:
    show_name: true
    show_icon: true
    styles:
      card:
        - height: "55px" 
        - background: "rgba(10, 10, 12, 0.7)"
        - border-left: "3px solid transparent"
        - clip-path: "polygon(0 0, 95% 0%, 100% 100%, 5% 100%)"
        - margin-bottom: "10px"
        - padding: "0"
        - transition: "all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)"
        - padding-left: "5px"
      grid:
        - grid-template-areas: '"i n"'
        - grid-template-columns: "45px auto"
      icon:
        - color: "#444"
        - width: "24px"
      name:
        - color: "#888"
        - font-size: "15px"
        - font-weight: "700"
        - font-style: "italic"
        - letter-spacing: "1px"
        - justify-self: "start"
    state:
      - operator: template
        value: >
          [[[ return states['input_select.room_select'].state === variables.room_name; ]]]
        styles:
          card:
            - background: "linear-gradient(90deg, rgba(200, 20, 50, 0.8) 0%, rgba(10,10,12,0.8) 100%)" # Speed Red Glow
            - border-left: "5px solid #ff1030"
          icon:
            - color: "#fff"
            - filter: "drop-shadow(0 0 5px #ff1030)"
          name:
            - color: "#fff"
            - text-shadow: "0 0 10px rgba(255, 16, 48, 0.9)"
    tap_action:
      action: call-service
      service: input_select.select_option
      service_data:
        entity_id: input_select.room_select
        option: "[[[ return variables.room_name; ]]]"

  # ==========================================
  # [CYBER RACING TITLE] - Graphic Headers instead of plain text
  # ==========================================
  cyber_racing_title:
    show_name: true
    show_icon: true
    styles:
      card:
        - background: "linear-gradient(90deg, var(--primary-neon) 0%, rgba(255,255,255,0.05) 5%, transparent 60%)"
        - padding: "2px 20px"
        - margin: "25px 0 12px 0"
        - border-radius: "0"
        - box-shadow: "none"
        - height: "35px"
        # 极端的尖锐赛车贴纸边框
        - clip-path: "polygon(0 0, 98% 0, 100% 100%, 2% 100%)"
      grid:
        - grid-template-areas: '"i n"'
        - grid-template-columns: "30px auto"
      name:
        - color: "#fff"
        - font-size: "14px"
        - font-weight: "900"
        - letter-spacing: "6px"
        - font-style: "italic"
        - font-family: "'Trebuchet MS', Arial, sans-serif"
        - justify-self: "start"
      icon:
        - color: "#fff"
        - width: "20px"
        - margin-top: "-2px"

  # ==========================================
  # [RACING SWITCH] - HIGH Fidelity Mechanical Switch
  # ==========================================
  racing_mechanical_switch:
    show_name: true
    show_state: true
    show_icon: true
    styles:
      card:
        - height: "65px"
        - background: "linear-gradient(145deg, rgba(28, 30, 36, 0.95), rgba(18, 20, 24, 0.95))"
        - border: "1px solid rgba(255,255,255,0.03)"
        - border-top: "2px solid rgba(255,255,255,0.08)"
        - border-radius: "3px"
        - clip-path: "polygon(8px 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%, 0 8px)"
        - transition: "all 0.2s ease"
        - padding: "8px"
      grid:
        - grid-template-areas: '"i n" "i s"'
        - grid-template-columns: "35px 1fr"
        - grid-template-rows: "1fr 1fr"
      name:
        - color: "#b9bdcf"
        - font-size: "12px"
        - font-weight: "600"
        - justify-self: "start"
        - padding-left: "8px"
        - text-transform: "uppercase"
        - letter-spacing: "1px"
        - white-space: "nowrap"
        - overflow: "hidden"
        - text-overflow: "ellipsis"
        - width: "100%"
      state:
        - color: "#555"
        - font-size: "11px"
        - font-weight: "900"
        - justify-self: "start"
        - padding-left: "8px"
        - text-transform: "uppercase"
      icon:
        - color: "#444"
        - width: "22px"
    state:
      - value: "on"
        styles:
          card:
            - background: "linear-gradient(145deg, rgba(40, 20, 25, 0.95), rgba(15, 8, 10, 0.95))"
            - border-top: "2px solid var(--primary-neon)"
            - box-shadow: "inset 0px 0px 10px rgba(var(--neon-rgb), 0.15), 0 0 6px rgba(var(--neon-rgb), 0.3)"
          icon:
            - color: "var(--primary-neon)"
            - filter: "drop-shadow(0px 0px 4px var(--primary-neon))"
          name:
            - color: "#ffffff"
            - text-shadow: "0px 0px 4px rgba(255,255,255,0.3)"
          state:
            - color: "var(--primary-neon)"
    tap_action:
      action: toggle

views:
  - path: default_view
    title: RACING COCKPIT
    panel: true 
    cards:
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 13vw 87vw
          grid-template-rows: 100vh
          grid-gap: 0px
        cards:
          
          # ====================================================
          # LEFT GEAR BOX: Nav Base
          # ====================================================
          - type: vertical-stack
            view_layout:
              grid-column: 1
              grid-row: 1
            card_mod:
              style: |
                ha-card, div { 
                  height: 100vh !important; 
                  background: rgba(8, 9, 11, 0.98) !important; 
                  border-right: 2px solid rgba(255, 16, 48, 0.3);
                  padding: 15px 10px !important;
                }
            cards:
              - type: custom:button-card
                name: "ENGINE O-N"
                icon: mdi:piston
                styles:
                  card: [background: "transparent", border: "none", box-shadow: "none", margin-bottom: "20px"]
                  name: [color: "#ff1030", font-weight: "900", font-style: "italic", letter-spacing: "3px", font-size: "18px", margin-top: "5px"]
                  icon: [color: "#ff1030", width: "50px", filter: "drop-shadow(0 0 10px #ff1030)"]
              - type: custom:button-card
                name: "餐厅"
                template: racing_gear_nav
                icon: "mdi:silverware-fork-knife"
                variables:
                  room_name: "餐厅"
              - type: custom:button-card
                name: "厨房"
                template: racing_gear_nav
                icon: "mdi:stove"
                variables:
                  room_name: "厨房"
              - type: custom:button-card
                name: "次卧"
                template: racing_gear_nav
                icon: "mdi:bed-empty"
                variables:
                  room_name: "次卧"
              - type: custom:button-card
                name: "过道"
                template: racing_gear_nav
                icon: "mdi:transit-connection-horizontal"
                variables:
                  room_name: "过道"
              - type: custom:button-card
                name: "客厅"
                template: racing_gear_nav
                icon: "mdi:sofa"
                variables:
                  room_name: "客厅"
              - type: custom:button-card
                name: "生活阳台"
                template: racing_gear_nav
                icon: "mdi:washing-machine"
                variables:
                  room_name: "生活阳台"
              - type: custom:button-card
                name: "书房"
                template: racing_gear_nav
                icon: "mdi:laptop"
                variables:
                  room_name: "书房"
              - type: custom:button-card
                name: "玄关"
                template: racing_gear_nav
                icon: "mdi:door-open"
                variables:
                  room_name: "玄关"
              - type: custom:button-card
                name: "阳台"
                template: racing_gear_nav
                icon: "mdi:flower"
                variables:
                  room_name: "阳台"
              - type: custom:button-card
                name: "主卧"
                template: racing_gear_nav
                icon: "mdi:bed-double"
                variables:
                  room_name: "主卧"
              - type: custom:button-card
                name: "主卫"
                template: racing_gear_nav
                icon: "mdi:shower"
                variables:
                  room_name: "主卫"

          # ====================================================
          # RIGHT HUD DASHBOARD: The Main Screen
          # ====================================================
          - type: vertical-stack
            view_layout:
              grid-column: 2
              grid-row: 1
            card_mod:
              # FIXED: To make it stretch fully right, we remove HA's default horizontal limits on Masonry/Vertical stacks.
              # We apply a strict 100% width and cancel all max-widths.
              style: |
                :host {
                    --masonry-view-card-margin: 0px !important;
                }
                ha-card, div { 
                   padding: 20px 30px !important; 
                   width: 100% !important; 
                   max-width: none !important; /* The magic bullet for the right empty space */
                   height: 100%;
                   overflow: hidden; 
                   box-sizing: border-box;
                }
            cards:
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "餐厅"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #ff1030; 
                           --neon-rgb: 255,16,48; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 餐厅 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #ff1030"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#ff1030"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.can_ting_switch_1
                          name: "灯具主控1"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.can_ting_switch_2
                          name: "灯具主控2"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_a4d3_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_be94_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_f24c_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_0ef1_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wyra01_4639_ambient_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wyra01_4639_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "厨房"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #00d2ff; 
                           --neon-rgb: 0,210,255; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 厨房 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #00d2ff"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#00d2ff"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.chu_fang_switch_1
                          name: "厨房主1"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.chu_fang_switch_2
                          name: "厨房主2"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_7a81_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_cb6a_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_9bf5_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_647f_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "TELEMETRY & SENSORS"
                      icon: mdi:speedometer
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(140px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:mushroom-entity-card
                          entity: binary_sensor.chu_fang_gan_ying_motion
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00d2ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,210,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: binary_sensor.ran_qi_bao_jing_qi_gas
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00d2ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,210,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: binary_sensor.wu_xian_shui_jin_chuan_gan_qi_moisture
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00d2ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,210,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: binary_sensor.yan_wu_chuan_gan_qi_smoke
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00d2ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,210,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "次卧"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #00ffcc; 
                           --neon-rgb: 0,255,204; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 次卧 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #00ffcc"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#00ffcc"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.ci_wo_switch_1
                          name: "次主灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.ci_wo_switch_2
                          name: "辅灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.ci_wo_switch_3
                          name: "筒灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_50e9_dryer
                          name: "干燥档位"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_50e9_eco
                          name: "节能 ECO"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_50e9_heater_2
                          name: "辅助加热"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_50e9_sleep_mode
                          name: "睡眠模式"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_50e9_switch_status
                          name: "状态灯控"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_50e9_unstraight_blowing
                          name: "防直吹阈"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_50e9_alarm
                          name: "警报静音"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "THERMAL EMISSION"
                      icon: mdi:engine-outline
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(320px, 1fr))"
                        grid-gap: "18px"
                      cards:
                        - type: custom:mushroom-climate-card
                          entity: climate.xiaomi_m4_50e9_air_conditioner
                          show_temperature_control: true
                          collapsible_controls: false
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: linear-gradient(145deg, rgba(28,30,36,0.9), rgba(18,20,24,0.9)); 
                                border: 1px solid rgba(255,255,255,0.05);
                                border-top: 3px solid #00ffcc; 
                                border-radius: 4px;
                                clip-path: polygon(0 0, 100% 0, 97% 100%, 0% 100%);
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_318b_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.xiaomi_m4_50e9_indicator_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_e178_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_9c89_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_06a2_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_831b_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "TELEMETRY & SENSORS"
                      icon: mdi:speedometer
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(140px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_50e9_relative_humidity
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00ffcc"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,255,204, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_50e9_temperature
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00ffcc"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,255,204, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_50e9_filter_life_level
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00ffcc"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,255,204, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "过道"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #ffaa00; 
                           --neon-rgb: 255,170,0; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 过道 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #ffaa00"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#ffaa00"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.guo_dao_switch_1
                          name: "前区延时"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.guo_dao_switch_2
                          name: "中区延时"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.guo_dao_switch_3
                          name: "后区延时"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_318d_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_033d_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_16a4_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_2faf_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "客厅"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #b366ff; 
                           --neon-rgb: 179,102,255; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 客厅 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #b366ff"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#b366ff"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.ke_ting_deng_dai_switch_1
                          name: "主通道东"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.ke_ting_deng_dai_switch_2
                          name: "主通道西"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.ke_ting_tong_deng_switch_1
                          name: "核心阵列"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.ke_ting_tong_deng_switch_2
                          name: "边缘阵列"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.dooya_c1_f2db_mode_2
                          name: "防强光纱"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.dooya_c1_cc3d_mode_2
                          name: "遮光主帘"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zjdh_xj001_0a74_motor_reverse
                          name: "转向矫正"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "THERMAL EMISSION"
                      icon: mdi:engine-outline
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(320px, 1fr))"
                        grid-gap: "18px"
                      cards:
                        - type: custom:mushroom-media-player-card
                          entity: media_player.ke_ting
                          use_media_info: true
                          show_volume_level: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: linear-gradient(145deg, rgba(28,30,36,0.9), rgba(18,20,24,0.9)); 
                                border: 1px solid rgba(255,255,255,0.05);
                                border-top: 3px solid #b366ff; 
                                border-radius: 4px;
                                clip-path: polygon(3% 0, 100% 0, 100% 100%, 0% 100%);
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-media-player-card
                          entity: media_player.samsung_qx3ca_85_tv
                          use_media_info: true
                          show_volume_level: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: linear-gradient(145deg, rgba(28,30,36,0.9), rgba(18,20,24,0.9)); 
                                border: 1px solid rgba(255,255,255,0.05);
                                border-top: 3px solid #b366ff; 
                                border-radius: 4px;
                                clip-path: polygon(3% 0, 100% 0, 100% 100%, 0% 100%);
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_adb0_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_b016_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_bcd7_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_b455_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_f240_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_bcc2_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_dbff_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_0a31_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_ed5a_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-cover-card
                          entity: cover.dooya_c1_f2db_curtain
                          show_position_control: true
                          show_buttons_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-cover-card
                          entity: cover.dooya_c1_cc3d_curtain
                          show_position_control: true
                          show_buttons_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-cover-card
                          entity: cover.zjdh_xj001_0a74_curtain
                          show_position_control: true
                          show_buttons_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "生活阳台"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #ff1030; 
                           --neon-rgb: 255,16,48; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 生活阳台 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #ff1030"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#ff1030"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.sheng_huo_yang_tai_switch_1
                          name: "中控顶灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.yszn01_ys2102_c8c6_dryer
                          name: "风干模式"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.yszn01_ys2102_c8c6_uv
                          name: "UV杀菌系统"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.yszn01_ys2102_c8c6_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-cover-card
                          entity: cover.yszn01_ys2102_c8c6_airer
                          show_position_control: true
                          show_buttons_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "书房"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #00d2ff; 
                           --neon-rgb: 0,210,255; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 书房 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #00d2ff"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#00d2ff"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.shu_fang_switch_1
                          name: "工作主灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.shu_fang_switch_2
                          name: "氛围灯光"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.shu_fang_switch_3
                          name: "点阵射灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_549b_dryer
                          name: "干燥档"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_549b_eco
                          name: "省电模块"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_549b_heater_2
                          name: "辅热系统"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_549b_sleep_mode
                          name: "静默模式"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_549b_switch_status
                          name: "控制面板灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_549b_unstraight_blowing
                          name: "防吹锁定"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_549b_alarm
                          name: "蜂鸣器切换"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_lx06_843f_sleep_mode
                          name: "音响静音"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "THERMAL EMISSION"
                      icon: mdi:engine-outline
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(320px, 1fr))"
                        grid-gap: "18px"
                      cards:
                        - type: custom:mushroom-climate-card
                          entity: climate.xiaomi_m4_549b_air_conditioner
                          show_temperature_control: true
                          collapsible_controls: false
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: linear-gradient(145deg, rgba(28,30,36,0.9), rgba(18,20,24,0.9)); 
                                border: 1px solid rgba(255,255,255,0.05);
                                border-top: 3px solid #00d2ff; 
                                border-radius: 4px;
                                clip-path: polygon(0 0, 100% 0, 97% 100%, 0% 100%);
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-media-player-card
                          entity: media_player.xiaomi_lx06_843f_play_control
                          use_media_info: true
                          show_volume_level: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: linear-gradient(145deg, rgba(28,30,36,0.9), rgba(18,20,24,0.9)); 
                                border: 1px solid rgba(255,255,255,0.05);
                                border-top: 3px solid #00d2ff; 
                                border-radius: 4px;
                                clip-path: polygon(3% 0, 100% 0, 100% 100%, 0% 100%);
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_312c_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_3221_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.xiaomi_m4_549b_indicator_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_00ca_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_6d30_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_e3ed_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "TELEMETRY & SENSORS"
                      icon: mdi:speedometer
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(140px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_549b_relative_humidity
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00d2ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,210,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_549b_temperature
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00d2ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,210,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_549b_filter_life_level
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00d2ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,210,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_lx06_843f_conversation
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00d2ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,210,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "玄关"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #00ffcc; 
                           --neon-rgb: 0,255,204; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 玄关 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #00ffcc"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#00ffcc"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.xuan_guan_switch_1
                          name: "安防入户"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xuan_guan_switch_2
                          name: "鞋柜循环"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "TELEMETRY & SENSORS"
                      icon: mdi:speedometer
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(140px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:mushroom-entity-card
                          entity: binary_sensor.xuan_guan_men_ci_door
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "00ffcc"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(0,255,204, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "阳台"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #ffaa00; 
                           --neon-rgb: 255,170,0; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 阳台 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #ffaa00"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#ffaa00"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.yang_tai_switch_1
                          name: "生态南阳"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.yang_tai_switch_2
                          name: "环绕氛围"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.yang_tai_switch_3
                          name: "光合植物"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_a2d3_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_2ee4_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_2d1b_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c08_67f7_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c09_c969_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c08_a7fa_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "主卧"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #b366ff; 
                           --neon-rgb: 179,102,255; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 主卧 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #b366ff"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#b366ff"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.zhu_wo_switch_1
                          name: "核心光源"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wo_switch_2
                          name: "隐藏灯带"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wo_switch_3
                          name: "床头阅光"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wo_switch_4
                          name: "地面夜灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_1c38_dryer
                          name: "快速干燥"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_1c38_eco
                          name: "生态平衡"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_1c38_heater_2
                          name: "强制辅热"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_1c38_sleep_mode
                          name: "深度休眠"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_1c38_switch_status
                          name: "仪表背光"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_1c38_unstraight_blowing
                          name: "气流导引"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.xiaomi_m4_1c38_alarm
                          name: "警报解除"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wo_men_deng_switch_1
                          name: "门框示廓"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wo_she_deng_tai_deng_switch_1
                          name: "左侧矩阵"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wo_she_deng_tai_deng_switch_2
                          name: "右侧矩阵"
                          template: racing_mechanical_switch
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "THERMAL EMISSION"
                      icon: mdi:engine-outline
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(320px, 1fr))"
                        grid-gap: "18px"
                      cards:
                        - type: custom:mushroom-climate-card
                          entity: climate.xiaomi_m4_1c38_air_conditioner
                          show_temperature_control: true
                          collapsible_controls: false
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: linear-gradient(145deg, rgba(28,30,36,0.9), rgba(18,20,24,0.9)); 
                                border: 1px solid rgba(255,255,255,0.05);
                                border-top: 3px solid #b366ff; 
                                border-radius: 4px;
                                clip-path: polygon(0 0, 100% 0, 97% 100%, 0% 100%);
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "LIGHTSPEED VECTORS"
                      icon: mdi:car-light-high
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(280px, 1fr))"
                        grid-gap: "15px"
                      cards:
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c14_c615_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_ae79_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.xiaomi_m4_1c38_indicator_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_f7b6_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_f712_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_2fda_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_7bc9_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_5d3b_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-light-card
                          entity: light.lemesh_wy0c15_25e7_light
                          show_brightness_control: true
                          layout: horizontal
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(25, 27, 33, 0.7); 
                                border: 1px dashed rgba(255,255,255,0.1);
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "TELEMETRY & SENSORS"
                      icon: mdi:speedometer
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(140px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_1c38_relative_humidity
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "b366ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(179,102,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_1c38_temperature
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "b366ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(179,102,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
                        - type: custom:mushroom-entity-card
                          entity: sensor.xiaomi_m4_1c38_filter_life_level
                          layout: vertical
                          primary_info: state
                          secondary_info: name
                          icon_color: "b366ff"
                          card_mod:
                            style: |
                              ha-card { 
                                background: rgba(0,0,0,0.4); 
                                border: 1px solid rgba(179,102,255, 0.3); 
                                border-radius: 4px;
                                --primary-text-color: #ffffff;
                                --secondary-text-color: #aaaaaa;
                              }
              - type: conditional
                conditions:
                  - entity: input_select.room_select
                    state: "主卫"
                card:
                  type: vertical-stack
                  card_mod:
                     style: |
                        ha-card { 
                           --primary-neon: #ff1030; 
                           --neon-rgb: 255,16,48; 
                           max-width: none !important; /* Critical to allow internal container stretching */
                        }
                  cards:
                    
                    # SYSTEM STATUS BAR (Digital HUD)
                    - type: custom:button-card
                      name: ">>> 主卫 // SYSTEM ENGAGED [ OK ] :: RADAR ACTIVE"
                      icon: mdi:crosshairs-gps
                      styles:
                        card: 
                          - background: "rgba(10,12,15,0.9)"
                          - border: "1px solid rgba(255,255,255,0.05)"
                          - border-left: "5px solid #ff1030"
                          - height: "45px"
                          - margin-bottom: "10px"
                          - justify-content: "start"
                          - padding-left: "15px"
                          - border-radius: "0"
                          - clip-path: "polygon(0 0, 98% 0, 100% 100%, 0% 100%)"
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: "30px auto"
                        name:
                          - color: "#fff"
                          - font-size: "14px"
                          - font-weight: "900"
                          - font-family: "'Courier New', Courier, monospace"
                          - letter-spacing: "2px"
                          - justify-self: "start"
                        icon:
                          - color: "#ff1030"
                          - width: "20px"
                    - type: custom:button-card
                      template: cyber_racing_title
                      name: "CIRCUIT OVERRIDE"
                      icon: mdi:car-turbocharger
                    - type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: "repeat(auto-fill, minmax(150px, 1fr))"
                        grid-gap: "12px"
                      cards:
                        - type: custom:button-card
                          entity: switch.zhu_wei_switch_1
                          name: "除雾镜灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wei_switch_2
                          name: "防水顶灯"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wei_kai_guan_switch_1
                          name: "强力排气"
                          template: racing_mechanical_switch
                        - type: custom:button-card
                          entity: switch.zhu_wei_kai_guan_switch_2
                          name: "内循环风"
                          template: racing_mechanical_switch
