# Home Assistant 赛博科技风 UI (HA-UI)

> **版本：** v0.1 (核心骨架搭建阶段)  
> **更新日期：** 2026/02/22

## 🎯 项目概述
本项目旨在彻底替换 Home Assistant (HA) 原生单调的交互界面，通过引入现代化插件（HACS）构建一套具有**毛玻璃（Glassmorphism）**、**霓虹流光特效（Cyberpunk Glow）**、以及**动态状态反馈**的全定制化智能家居大屏。

本界面完全抛弃了传统的滚动列表方式，采用了**“左右结构+条件渲染”**的单页面应用（SPA）体验逻辑：点击右栏的房间按钮，中栏设备区域瞬间切换，不再需要上下或左右大幅滑动寻找设备。

---

## 🛠️ 必需的核心插件前置要求
在部署以下代码前，请确保您的 Home Assistant HACS (Home Assistant Community Store) 中已正确安装并启用了以下三大灵魂插件（这三个缺失任何一个都会导致页面崩溃或特效丢失）：

1. **[Button Card](https://github.com/custom-cards/button-card)** (最核心的代码载体！所有发光、变形、毛玻璃都写在它的模板里)
2. **[Mushroom Cards](https://github.com/piitaya/lovelace-mushroom)** (用于滑动灯光条、精美的人员卡片等现代化 UI 控制组件)
3. **[Card Mod](https://github.com/thomasloven/lovelace-card-mod)** (用来劫持并暴力修改原生 HA 卡片的 CSS，例如实现左/中/右 20%-65%-15% 的完美比例分割)

### 📌 必须搭建的辅助实体 (Helper)
要实现“无缝房间切换”，您**必须**在 HA 系统内部“配置 -> 设备与服务 -> 辅助元素 (Helpers)”中建立一个下拉菜单，详情如下：
- **名称**：`房间选择` (您可以自己定)
- **实体 ID**：`input_select.room_select` *(这极其重要，因为所有的 YAML 按钮都绑定触发这个实体！)*
- **下拉选项配置**：必须**完全准确地**填入 YAML 中绑定的各个房间名称（例如：`餐厅`, `厨房`, `次卧`, `过道`, `客厅`, `生活阳台`, `书房`, `玄关`, `阳台`, `主卧`, `主卫`）。

---

## 🎨 界面核心结构解析 (三栏大屏设计)
基于用户的 PS 草图，代码将页面强制切分为经典的 3 列结构：

- **左列信息栏 (20% 占比)**：天气/人员/系统状态。由名为 `cyber_glow_box` 的模板包裹，拥有科幻的暗半透明底色和发光霓虹边缘。
- **中列主控台 (65% 占比)**：采用 `conditional` 条件卡片进行渲染。当右侧点击了“客房”，这台巨型主控台就会展示左边一排“高级灰/荧光彩双模物理开关”，和右边大面积的“灯条控制器与传感矩阵”。
- **右列导航枢纽 (15% 占比)**：基于 `room_nav_btn` 毛玻璃模板。常态下透明发灰，点击激活后会产生弹射放大+强烈光晕特效，并控制主控台的数据切换。

---

## 🚀 部署安装说明

### 第一步：获取代码
用文本编辑器（如 VSCode 或记事本）打开本目录下的 `ha_cyber_ui.yaml` 文件，**按下 `Ctrl + A` 全选，然后复制所有内容**。

### 第二步：导入 HA
1. 登录您的 Home Assistant 电脑端网页。
2. 进入您想要修改的仪表盘（也可以点击侧边栏的“编辑仪表盘”新建一个干净的专属仪表盘）。
3. 点击右上角的三个点 (⋮图标)。
4. 如果是新建的，先点一下“接管控制/添加仪表盘”。
5. 继续点击右上角的三个点，下拉选项中点击 **“原始配置编辑器 (Raw configuration editor)”**。
6. **删除里面的所有默认代码，然后粘贴您刚才复制的代码。**
7. 点击界面右上角的 **“保存 (Save)”**，然后点击左上角的“X”退出原始编辑器。

> **⚠️ 注意：** 只要此时卡片没有报红错，说明您的 HACS 插件没装错。请立即点击右边的房间菜单体验无缝丝滑的赛博科技风！

---

## ✍️ 如何继续添加设备？(开发备忘录)

代码开头的 `button_card_templates` 部分是**绝不可修改**的底层核心设计组件。
如果要增加新的设备，只需定位到代码下方 `# ======== [房间名] ========` 的注释处，在对应的 `cards:` 列表下插入预设的代码块即可：

**添加一个带动态光效的普通开关：**
```yaml
- type: custom:button-card
  entity: switch.your_new_switch_id
  name: "自定义名字"
  template: cyber_switch
  variables: { accent_color: "#ff007f" } # 打开时发出的光芒颜色
```

**添加一个小型圆角传感器（例如门磁）：**
```yaml
- type: custom:button-card
  entity: binary_sensor.your_door_sensor
  template: cyber_round_btn
```
